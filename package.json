{
    "name": "stackbit-api",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "start": "npm run build && ts-node-dev --files --respawn src/index.js",
        "start:no-watch": "npm run build && npm run start:no-build",
        "start:no-build": "node dist/index.js",
        "test": "jest --runInBand",
        "test:clean": "jest --clearCache",
        "test:watch": "jest --watch --verbose",
        "build": "npm run clean && npm run copy-files && tsc",
        "clean": "rimraf dist/",
        "copy-files": "copyfiles -u 1 src/**/*.html src/**/*.png src/**/*.yml dist/",
        "build-without-config": "cp ./src/base-config-types.ts ./src/base-config.ts && rm -f ./src/base-config.js && npm run build",
        "build-with-any-config": "cp ./src/base-config-any-types.ts ./src/base-config.ts && rm -f ./src/base-config.js && npm run build",
        "build-config:dev": "npm run build-with-any-config && node dist/scripts/build-config.js dev",
        "build-config:staging": "npm run build-with-any-config && node dist/scripts/build-config.js staging",
        "build-config:prod": "npm run build-with-any-config && node dist/scripts/build-config.js prod",
        "build-config:local": "npm run build-with-any-config && node dist/scripts/build-config.js local",
        "stripe-webhook-listen": "stripe listen --forward-to localhost:8081/project/webhook/stripe",
        "update-external-api-types": "./update-external-api-types.sh",
        "update-external-api-types:copy": "npm run update-external-api-types && cp dist/export.d.ts ../stackbit-app/src/stackbit-api.d.ts",
        "lint:changed": "files=$(git diff HEAD --name-only --diff-filter=ACMRTUXB);jsfiles=$(echo \"$files\" | grep -E \"(.js$|.ts$)\" | tr '\n' ' '); if [ \"$jsfiles\" ]; then eval eslint $jsfiles; fi"
    },
    "author": "",
    "license": "UNLICENSED",
    "dependencies": {
        "@azure/arm-appservice": "^6.1.0",
        "@azure/arm-authorization": "^8.3.3",
        "@azure/arm-resources": "^4.0.0",
        "@azure/arm-subscriptions": "^3.0.0",
        "@iarna/toml": "^2.2.3",
        "@microsoft/microsoft-graph-client": "^2.1.1",
        "@octokit/app": "^3.0.0",
        "@octokit/request": "^4.1.0",
        "@octokit/rest": "^18.0.9",
        "@sanity/block-tools": "^1.149.0",
        "@sanity/cli": "^0.142.0",
        "@sanity/client": "^0.141.6",
        "@sanity/core": "^0.142.1",
        "@sanity/export": "^1.149.17",
        "@sanity/import": "^1.149.16",
        "@sanity/schema": "^1.149.0",
        "@sentry/node": "^6.1.0",
        "@stackbit/artisanal-names": "^1.0.1",
        "@stackbit/sdk": "^0.1.14",
        "@stackbit/stackbit-factory-provider": "^0.1.33",
        "@stackbit/stackbit-medium-importer": "^0.2.0",
        "@stackbit/utils": "^0.1.2",
        "@swc/core": "^1.2.87",
        "@types/fs-extra": "^9.0.11",
        "@types/lodash": "^4.14.165",
        "@types/node": "^15.6.1",
        "@types/omit-deep-lodash": "^1.1.1",
        "@types/sshpk": "^1.10.5",
        "@types/superagent": "^4.1.12",
        "@types/uuid": "3.x.x",
        "adal-node": "^0.2.1",
        "analytics-node": "^3.3.0",
        "archiver": "^3.0.0",
        "async": "^3.1.0",
        "aws-sdk": "^2.683.0",
        "axios": "^0.18.0",
        "body-parser": "^1.18.3",
        "connect-mongo": "^2.0.1",
        "contentful": "^7.14.8",
        "contentful-cli": "^1.2.14",
        "contentful-import": "^8.1.3",
        "contentful-management": "^7.39.0",
        "cookie-parser": "^1.4.3",
        "copy-webpack-plugin": "^5.0.2",
        "cors": "^2.8.4",
        "customerio-node": "^1.0.1",
        "date-fns": "^2.14.0",
        "datocms-client": "^3.0.24",
        "express": "^4.16.3",
        "express-basic-auth": "^1.1.5",
        "express-session": "^1.17.0",
        "find-free-ports": "^2.0.3",
        "form-data": "^3.0.0",
        "fs-extra": "^7.0.1",
        "heapdump": "^0.3.15",
        "http-auth": "^3.2.3",
        "http-proxy-middleware": "^0.20.0",
        "husky": "^4.3.8",
        "jose": "^3.15.5",
        "js-yaml": "3.14.1",
        "lodash": "^4.17.11",
        "mailgun-js": "^0.21.0",
        "micromatch": "^4.0.1",
        "migrate-mongo": "^8.1.4",
        "mime": "^2.4.4",
        "mkdirp": "^0.5.1",
        "moment": "^2.29.1",
        "mongoose": "^5.11.13",
        "mongoose-delete": "^0.5.2",
        "morgan": "^1.9.1",
        "ngrok": "^3.1.1",
        "node-crisp-api": "^1.10.1",
        "node-sass": "^4.12.0",
        "normalize-url": "^5.3.0",
        "omit-deep-lodash": "^1.1.4",
        "p-queue": "^6.6.2",
        "passport": "^0.4.0",
        "passport-auth-token": "^1.0.1",
        "passport-azure-ad": "^4.3.0",
        "passport-digitalocean": "0.0.2",
        "passport-github2": "^0.1.11",
        "passport-google-oauth": "^2.0.0",
        "passport-local": "^1.0.0",
        "passport-local-mongoose": "^5.0.1",
        "passport-netlify": "0.0.5",
        "passport-oauth2": "^1.5.0",
        "passport-oauth2-refresh": "^1.1.0",
        "passport-sanity": "0.0.1",
        "pg": "^8.5.1",
        "query-string": "^6.11.1",
        "r7insight_node": "^1.8.2",
        "serialize-error": "^4.1.0",
        "serverless-webpack": "^5.2.0",
        "simple-git": "^1.113.0",
        "single-config": "^2.0.0",
        "slugify": "^1.4.0",
        "source-map-support": "^0.5.19",
        "sshpk": "^1.16.1",
        "stripe": "^8.51.0",
        "typescript": "^4.4.2",
        "uuid": "^3.3.2",
        "validator": "^10.11.0",
        "webpack": "^4.29.6",
        "webpack-node-externals": "^1.7.2",
        "winston": "^3.2.1",
        "winston-sentry-log": "^1.0.19"
    },
    "devDependencies": {
        "@octokit/webhooks-definitions": "^3.65.6",
        "@shelf/jest-mongodb": "^2.0.1",
        "@swc/jest": "^0.2.4",
        "@types/express": "^4.17.13",
        "@types/jest": "^27.0.1",
        "@types/supertest": "^2.0.11",
        "@typescript-eslint/eslint-plugin": "^4.26.0",
        "@typescript-eslint/parser": "^4.26.0",
        "copyfiles": "^2.4.1",
        "eslint": "^7.30.0",
        "eslint-plugin-jest": "^24.4.0",
        "get-port": "^5.1.1",
        "jest": "27.0.6",
        "jest-node-exports-resolver": "^1.0.3",
        "mongodb-memory-server": "^7.3.6",
        "passport-mock-strategy": "^2.0.0",
        "prettier": "2.3.2",
        "rimraf": "^3.0.2",
        "supertest": "^6.1.6",
        "supertest-session": "^4.1.0",
        "ts-jest": "^27.0.4",
        "ts-node-dev": "^1.1.2"
    },
    "engines": {
        "node": ">=14.15 <15",
        "npm": "~6"
    },
    "husky": {
        "hooks": {
            "pre-commit": "npm run lint:changed"
        }
    }
}
